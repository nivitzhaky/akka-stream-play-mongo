@(batches: List[persistence.Batch])
@main("People Sorter") {
    <script>

            function S4() {
                return (((1+Math.random())*0x10000)|0).toString(16).substring(1);
            }
            function guid() {
                return (S4() + S4() + "-" + S4() + "-4" + S4().substr(0,3) + "-" + S4() + "-" + S4() + S4() + S4()).toLowerCase();
            }

            function submitBatch() {
                console.log("before all")
                var data = {};
                data['wanted'] = parseInt(document.getElementById('batch-count').value);
                data['id'] = guid();
                console.log("data is :" + JSON.stringify(data))

                var xhr = new XMLHttpRequest();
                xhr.open('POST', '/batch', true);
                xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');
                xhr.send(JSON.stringify(data));
                console.log("after all");
            }
    </script>

    <div>
        New Batch:<br>
        <input type="text" name="newBatch" id="batch-count" value="1000">
        <button onclick="submitBatch()">Submit Batch</button>
    </div>
    <ul>
    @for(item <- batches){
        <li><a href="/ui/@item.id">@item.id</a>   @item.wanted </li>
    }
    </ul>
}